<!DOCTYPE html>
<html>
  <head>
    <title>Hypermedia and whatnot</title>
    <script src="https://frans.computer/components.js" type="module"></script>
  </head>
  <body style="background-color: #f0e9d2">
    <style>
      body {
        background-image: url(/images/tile_amethyst6.png);
        background-size: 70%;
      }

      .post {
        background-color: #f0e9d2fc;
        max-width: 60ch;
        padding: 1em 2em;
        margin-left: 1em;
        border: 5px solid #c2b697;
      }

      code {
        background-color: #fdf6e3;
        display: inline-block;
        padding: 0px 5px;
        border-radius: 3px;
        color: #596e75;
      }
      pre.shiki.solarized-light {
        border-image: conic-gradient(#fdf6e3 0 0) fill 0 //0 100vw;;
      }
    </style>
    <div style="display: none">
      <entity-collection id="posts" type="post">
        <entity-data>
          <title>Organizing pages</title>
          <author>Fran</author>
          <date>2024-01-29 21:46:08</date>
          <pre is="content">
            Okay, so this is legitimately one of the big questions for me. I do want
            to have a unified model for how to organize and navigate pages. I think
            the one I'm happiest with so far is the desktop and folder model but of
            course that's not 100% perfect. It also has some outstanding questions
            as to how it should be integrated with the main page UI.

            Maybe the command palette is a desktop+folder view? I wouldn't hate that.
          </pre>
        </entity-data>
        <entity-data>
          <title>Next stuff</title>
          <author>Fran</author>
          <date>2024-01-29 21:32:35</date>
          <pre is="content">
            Nice! Expanding on the templating languages pretty well. Can do stuff
            like this now:

            ```html
            &lt;if-field field="pic"&gt;
                &lt;dithered-image src="field-value:pic"&gt;&lt;/dithered-image&gt;
            &lt;/if-field&gt;
            ```

            I guess I'm still excited about nested `&lt;entity-data&gt;` and then
            maybe timelines next. 

            It actually would be very cool to add a command palette ðŸ¤”

            HMMM
          </pre>
        </entity-data>
        <entity-data>
          <title>What next?</title>
          <author>Fran</author>
          <date>2024-01-29 20:12:59</date>
          <pic>/images/memes/lotr-vs-hp.png</pic>
          <pre is="content">
            Well, this is working pretty well actually!

            What are my next priorities?

            * Nested `&lt;entity-data&gt;`
            * Fix the flash of "un-componented" content on page load (it's pretty fast if the network can cache)
            * `sort-by-date-asc` and `sort-by-date-desc` properties for `&lt;render-entity-collection&gt;`
            * âœ… Also want to add `&lt;if-field&gt;` component for conditional rendering
            * âœ… In this case I probably want to have a `field-value:my-field` kind of attribute so that I can use it for img srcs and stuff
          </pre>
        </entity-data>
        <entity-link src="/old-posts.html"></entity-link>
      </entity-collection>
    </div>

    <render-entity-collection for="posts">
      <div class="post" style="margin-bottom: 5em">
        <h2>
          <field>title</field>
          <span class="author">by <field>author</field></span>
        </h2>
        <div class="post-date">
          <em>
            <format-date><field>date</field></format-date>
          </em>
        </div>
        <if-field field="pic">
          <div
            style="
              max-width: 400px;
              border-radius: 20px;
              overflow: hidden;
              margin-top: 1em;
            "
          >
            <dithered-image
              src="field-value:pic"
              border="false"
            ></dithered-image>
          </div>
        </if-field>
        <div class="post-body" style="max-width: 60ch">
          <pre is="markdown-view"><field>content</field></pre>
        </div>
      </div>
    </render-entity-collection>
  </body>
</html>
