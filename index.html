<!DOCTYPE html>
<html>
  <head>
    <title>Hypermedia and whatnot</title>
    <script src="https://frans.computer/components.js" type="module"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=IM+Fell+English:ital@0;1&family=Yrsa:ital,wght@0,300..700;1,300..700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body style="background-color: #f0e9d2">
    <style>
      body {
        background-image: url(/images/tile_amethyst6.png);
        background-size: 70%;
        padding-top: 10em;
        padding-bottom: 10em;
        font-family: Yrsa, serif;
      }

      h1,
      h2,
      h3 {
        font-family: "IM Fell English", serif;
      }

      @font-face {
        font-family: "CozetteVector";
        src: url("/fonts/cozette-vector.woff") format("woff");
      }

      pre,
      code {
        font-family: CozetteVector, monospace;
      }

      .post {
        background-color: #f0e9d2fc;
        max-width: 60ch;
        padding: 1em 2em;
        margin-left: 1em;
        border: 5px solid #c2b697;
      }

      code {
        background-color: #fdf6e3;
        display: inline-block;
        padding: 0px 5px;
        border-radius: 3px;
        color: #596e75;
      }

      pre.shiki.solarized-light {
        line-height: 145%;
        border-image: conic-gradient(#fdf6e3 0 0) fill 0 //0 100vw;;
      }

      .author {
        font-style: italic;
        opacity: 0.4;
      }
    </style>
    <div style="display: none">
      <entity-collection id="components" type="component">
        <entity-data>
          <name>&lt;markdown-contenteditable&gt;</name>
        </entity-data>
        <entity-data>
          <name>&lt;theme-definition&gt;</name>
        </entity-data>
        <entity-data>
          <name>&lt;searchable-table&gt;</name>
        </entity-data>
        <entity-data>
          <name>&lt;event-timeline&gt;</name>
        </entity-data>
        <entity-data>
          <name>&lt;inputs-for-entity&gt;</name>
        </entity-data>
        <entity-data>
          <name>&lt;command-palette&gt;</name>
        </entity-data>
        <entity-data>
          <name>&lt;sitemap-overlay&gt;</name>
        </entity-data>
        <entity-data>
          <name>&lt;state-machine&gt;</name>
        </entity-data>
        <entity-data>
          <name>&lt;llm-prompt&gt;</name>
        </entity-data>
        <entity-data>
          <name>&lt;youtube-video&gt;</name>
        </entity-data>
        <entity-data>
          <name>&lt;map-with-pin&gt;</name>
        </entity-data>
        <entity-data>
          <name>&lt;command-action&gt;</name>
        </entity-data>
        <entity-data>
          <name>&lt;sound-effect&gt;</name>
        </entity-data>
        <entity-data>
          <name>&lt;horizontal-pages&gt;</name>
        </entity-data>
        <entity-data>
          <name>&lt;theme-builder&gt;</name>
        </entity-data>
        <entity-data>
          <name>&lt;scribble-pad&gt;</name>
        </entity-data>
        <entity-data>
          <name>&lt;sentence-reader&gt;</name>
        </entity-data>
      </entity-collection>
      <entity-collection id="posts" type="post">
        <entity-data>
          <title>More cool ideas</title>
          <author>Fran</author>
          <date>2024-01-30 00:26:01</date>
          <pre is="content">
            * Some kind of isometric... VRML rooms that you can run around in and place things in.
            * First person rooms with webgl and shaders
            * `&lt;project&gt;` and `&lt;task&gt;` components that can be defined inline and federated 
            * A universal web component class that everything inherits from with some kind lifecycle hooks
          </pre>
        </entity-data>
        <entity-data>
          <title>Brainstorming on command palette</title>
          <author>Fran</author>
          <date>2024-01-29 23:38:59</date>
          <pic>/images/illustrations/library.png</pic>
          <pre is="content">
            I know off the top of my head there are a few things I would want:

            * Fuzzy search by command name
            * Command arguments/inputs? Perhaps this would be a hypermedia control
            * Commands that jump to a particular page
            * Talking to GPT and it choosing a command from the list
            * Possibly keyboard shortcuts or chords for commands
            * Description / help for each command
          </pre>
        </entity-data>
        <entity-data>
          <title>Possible user stories</title>
          <author>Fran</author>
          <date>2024-01-29 22:44:51</date>
          <pic>/images/illustrations/raccoon-climbing.png</pic>
          <pre is="content">
            What are some of the use cases for an ideal database / app repl?

            * Different collections of bookmarks, for example YouTube music videos
            * A database of saints
            * Reading a book I start writing down quotes, places, people and historical events
            * Some kind of generative multi-step workflow with GPT that is helping me plan
            * A todo list

            Part of the problem with navigation stuff is that there are other things I
            would like to store, but I don't particularly want to visually cram them
            in (or cram in links to them) alongside the current thing I'm looking
            at. 

            So it seems like what I'm trying to have is a command+space sitemap
            that pops up. I think I would be fairly satisfied with that. Then
            I just add lots of links to the sitemap?
          </pre>
        </entity-data>
        <entity-data>
          <title>Organizing pages</title>
          <author>Fran</author>
          <date>2024-01-29 21:46:08</date>
          <pre is="content">
            Okay, so this is legitimately one of the big questions for me. I do want
            to have a unified model for how to organize and navigate pages. I think
            the one I'm happiest with so far is the desktop and folder model but of
            course that's not 100% perfect. It also has some outstanding questions
            as to how it should be integrated with the main page UI.

            Maybe the command palette is a desktop+folder view? I wouldn't hate that.

            I think this is a great way to model a database without getting lost in
            the weeds as far as input design. 

            What are the goals of the database?

            * Federated
            * Browseable
            * Render collections of entities into different views
            * Co-locate controls with data, which in this case could be view templates
            * Formats that are tractable to LLM delegation &amp; assistance
            * Bottom-up organic organization over time
            * ???
          </pre>
          <pic>/images/illustrations/castle-maze.png</pic>
        </entity-data>
        <entity-data>
          <title>Next stuff</title>
          <author>Fran</author>
          <date>2024-01-29 21:32:35</date>
          <pre is="content">
            Nice! Expanding on the templating languages pretty well. Can do stuff
            like this now:

            ```html
            &lt;if-field field="pic"&gt;
                &lt;dithered-image src="field-value:pic"&gt;&lt;/dithered-image&gt;
            &lt;/if-field&gt;
            ```

            I guess I'm still excited about nested `&lt;entity-data&gt;` and then
            maybe timelines next. 

            It actually would be very cool to add a command palette ðŸ¤”

            HMMM
          </pre>
        </entity-data>
        <entity-data>
          <title>What next?</title>
          <author>Fran</author>
          <date>2024-01-29 20:12:59</date>
          <no-border-pic>/images/memes/lotr-vs-hp.png</no-border-pic>
          <pre is="content">
            Well, this is working pretty well actually!

            What are my next priorities?

            * Nested `&lt;entity-data&gt;`
            * Fix the flash of "un-componented" content on page load (it's pretty fast if the network can cache)
            * `sort-by-date-asc` and `sort-by-date-desc` properties for `&lt;render-entity-collection&gt;`
            * âœ… Also want to add `&lt;if-field&gt;` component for conditional rendering
            * âœ… In this case I probably want to have a `field-value:my-field` kind of attribute so that I can use it for img srcs and stuff
          </pre>
        </entity-data>
        <entity-link src="/old-posts.html"></entity-link>
      </entity-collection>
    </div>

    <div class="post" style="margin-bottom: 5em">
      <h2>Component TODO</h2>
      <div class="post-body" style="max-width: 60ch">
        <ol>
          <render-entity-collection for="components" sort-by="name">
            <li>
              <code><field>name</field></code>
            </li>
          </render-entity-collection>
        </ol>
      </div>
    </div>

    <render-entity-collection for="posts">
      <div class="post" style="margin-bottom: 5em">
        <h2>
          <field>title</field>
          <span class="author">by <field>author</field></span>
        </h2>
        <div class="post-date">
          <em>
            <format-date><field>date</field></format-date>
          </em>
        </div>
        <if-field field="no-border-pic">
          <div
            style="
              max-width: 400px;
              border-radius: 20px;
              overflow: hidden;
              margin-top: 1em;
            "
          >
            <dithered-image
              src="field-value:no-border-pic"
              border="false"
            ></dithered-image>
          </div>
        </if-field>
        <if-field field="pic">
          <div
            style="
              max-width: 400px;
              border-radius: 20px;
              overflow: hidden;
              margin-top: 1em;
            "
          >
            <dithered-image
              src="field-value:pic"
              border="true"
            ></dithered-image>
          </div>
        </if-field>
        <div class="post-body" style="max-width: 60ch">
          <pre is="markdown-view"><field>content</field></pre>
        </div>
      </div>
    </render-entity-collection>
  </body>
</html>
